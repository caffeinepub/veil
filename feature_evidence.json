{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-in-frontend-src-hooks-usequeries-ts-add-an-additional-layer-of-defense-before-dispatching-any-actor-call-verify-both-1-isauthenticated-is-true-from-useinternetidentity-and-2-the-identity-s-principal-is-not-anonymous-identity-getprincipal-isanonymous-false-if-either-check-fails-all-query-functions-must-return-early-with-no-result-and-all-mutation-functions-must-throw-or-resolve-without-dispatching-the-actor-call-this-ensures-the-frontend-never-sends-a-request-carrying-an-anonymous-principal-to-the-backend",
      "featureTitle": "In frontend/src/hooks/useQueries.ts, add an additional layer of defense: before dispatching any actor call, verify both (1) isAuthenticated is true from useInternetIdentity, and (2) the identity's principal is not anonymous (identity.getPrincipal().isAnonymous() === false). If either check fails, all query functions must return early with no result and all mutation functions must throw or resolve without dispatching the actor call. This ensures the frontend never sends a request carrying an anonymous principal to the backend.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "invite-links@3.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-146"
      ],
      "confidence": "high"
    }
  ]
}